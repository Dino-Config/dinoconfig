<div class="login-dialog-backdrop" (click)="onBackdropClick($event)">
  <div class="login-dialog-container" (click)="$event.stopPropagation()">
    <div class="login-header">
      <h2>Welcome back</h2>
      <p>Sign in to your DinoConfig account</p>
    </div>

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Email</mat-label>
      <input 
        matInput 
        type="email" 
        formControlName="email" 
        placeholder="Enter your email"
        autocomplete="email"
      />
      <mat-icon matSuffix class="field-icon">email</mat-icon>
      <mat-error *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
        {{ getErrorMessage('email') }}
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Password</mat-label>
      <input 
        matInput 
        [type]="hidePassword ? 'password' : 'text'" 
        formControlName="password" 
        placeholder="Enter your password"
        autocomplete="current-password"
      />
      <button 
        mat-icon-button 
        matSuffix 
        (click)="hidePassword = !hidePassword" 
        type="button"
        class="password-toggle-btn"
        [attr.aria-label]="hidePassword ? 'Show password' : 'Hide password'"
        [attr.aria-pressed]="!hidePassword"
      >
        <mat-icon class="toggle-icon">{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
      <mat-error *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
        {{ getErrorMessage('password') }}
      </mat-error>
    </mat-form-field>

    <div class="form-options">
      <mat-checkbox formControlName="rememberMe" color="primary" class="remember-checkbox">
        Remember me
      </mat-checkbox>
      <a href="#" class="forgot-link">
        Forgot password?
      </a>
    </div>

    <button 
      mat-raised-button 
      color="primary" 
      type="submit" 
      class="submit-button"
      [disabled]="isLoading || loginForm.invalid"
    >
      <mat-spinner *ngIf="isLoading" diameter="20" class="spinner"></mat-spinner>
      <span *ngIf="!isLoading">Sign In</span>
    </button>
  </form>

  <div class="social-login-wip" *ngIf="false">
    <div class="login-divider">
      <span>or</span>
    </div>
  
    <div class="social-login">
      <button mat-outlined-button class="social-button google-button">
        <img class="social-icon-container" src="https://www.svgrepo.com/show/475656/google-color.svg" alt="Google logo">
        <span class="social-text">Continue with Google</span>
      </button>
      
      <button mat-outlined-button class="social-button github-button">
        <img class="social-icon-container" src="https://www.svgrepo.com/show/521688/github.svg" alt="Github logo">
        <span class="social-text">Continue with GitHub</span>
      </button>
    </div>
  </div>

  <div class="login-footer">
    <p>Don't have an account? 
      <a href="#" (click)="openSignupDialog()" class="signup-link">Sign up</a>
    </p>
  </div>
  </div>
</div> 