<div class="brand-selection">
  <div class="brand-selection-container">
    @if (isLoading()) {
      <dc-spinner text="Loading your brands..." size="large" [fullHeight]="true"></dc-spinner>
    } @else if (error()) {
      <dc-error-state
        [message]="error()!"
        (retry)="loadBrands()"
      ></dc-error-state>
    } @else if (showContent()) {
      <dc-brand-selection-header
        [hasBrands]="hasBrands()"
        (createBrand)="handleCreateNewBrand()"
      ></dc-brand-selection-header>

      @if (!hasBrands()) {
        <dc-empty-state
          title="No brands yet"
          message="Create your first brand to get started with building configurations"
          buttonText="Create Your First Brand"
          (buttonClick)="handleCreateNewBrand()"
        ></dc-empty-state>
      } @else {
        <div class="brands-grid">
          @for (brand of brands(); track brand.id) {
            <dc-brand-card
              [brand]="brand"
              (selected)="handleBrandSelect($event)"
            ></dc-brand-card>
          }
        </div>
      }
    }
  </div>
</div>

