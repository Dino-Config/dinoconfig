<dc-auth-layout
  title="Reset Password"
  description="Enter your email to receive a password reset link"
  sidebarTitle="Reset Your Password"
  sidebarDescription="We'll send you a link to reset your password securely."
>
  @if (error()) {
    <div class="error-message">
      {{ error() }}
    </div>
  }

  @if (successMessage()) {
    <div class="success-message">
      {{ successMessage() }}
    </div>
  }

  <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="auth-form">
    <div class="form-group">
      <label class="form-label">Email</label>
      <input
        type="email"
        formControlName="email"
        placeholder="Enter your email"
        class="form-input"
        [class.error]="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched"
        autocomplete="email"
      />
      @if (forgotPasswordForm.get('email')?.hasError('required') && forgotPasswordForm.get('email')?.touched) {
        <span class="error-text">Email is required</span>
      }
      @if (forgotPasswordForm.get('email')?.hasError('email') && forgotPasswordForm.get('email')?.touched) {
        <span class="error-text">Please enter a valid email address</span>
      }
    </div>

    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="isLoading() || forgotPasswordForm.invalid"
    >
      @if (isLoading()) {
        <span class="spinner"></span>
        <span>Sending...</span>
      } @else {
        Send Reset Link
      }
    </button>
  </form>

  <div class="auth-footer">
    <p>
      Remember your password?
      <a routerLink="/signin" class="auth-link">Sign in</a>
    </p>
  </div>
</dc-auth-layout>
